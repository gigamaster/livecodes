"use strict";(()=>{var p=e=>{function t(o){return typeof HTMLElement=="object"?o instanceof HTMLElement:o&&typeof o=="object"&&o!==null&&o.nodeType===1&&typeof o.nodeName=="string"}function s(o){return typeof Node=="object"?o instanceof Node:o&&typeof o=="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"}function n(o){return Object.prototype.toString.call(o)==="[object HTMLDocument]"}function a(o){return Object.prototype.toString.call(o)==="[object Window]"}let i=Object.prototype.toString.call(e);if(e===void 0)return"undefined";if(e===null)return"null";if(a(e))return"window";if(n(e))return"document";if(t(e))return"element";if(s(e))return"node";if(e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return"buffer";if(typeof window=="object"&&e===window)return"window";if(typeof global=="object"&&e===global)return"global";if(typeof e=="number"&&isNaN(e)||typeof e=="object"&&i==="[object Number]"&&isNaN(e))return"nan";if(typeof e=="object"&&i.substr(-6)==="Event]")return"event";if(i.substr(0,12)==="[object HTML")return"element";if(i.substr(0,12)==="[object Node")return"node";let r=i.match(/\[object\s*([^\]]+)\]/);return r?r[1].toLowerCase():"object"};function l(e){return e.map(t=>{switch(p(t)){case"window":case"function":case"date":case"symbol":return{type:p(t),content:t.toString()};case"document":return{type:p(t),content:t.documentElement.outerHTML};case"element":return{type:p(t),content:t.outerHTML};case"node":return{type:p(t),content:t.textContent};case"array":return{type:p(t),content:t.map(s=>l([s])[0].content)};case"object":return{type:p(t),content:Object.keys(t).reduce((s,n)=>({...s,[n]:l([t[n]])[0].content}),{})};case"error":return{type:p(t),content:t.constructor.name+": "+t.message}}try{return{type:"other",content:structuredClone(t)}}catch{return{type:"other",content:String(t)}}})}var m=()=>{window.console=new Proxy(console,{get(e,t){return function(...s){if(!(t in e)){let n=`Uncaught TypeError: console.${String(t)} is not a function`;e.error(n),parent.postMessage({type:"console",method:"error",args:l([n])},"*");return}e[t](...s),parent.postMessage({type:"console",method:t,args:l(s)},"*")}}}),window.addEventListener("error",e=>{parent.postMessage({type:"console",method:"error",args:l([e.message])},"*")})};var y=["esm.sh","skypack","esm.run","jsdelivr.esm","fastly.jsdelivr.esm","gcore.jsdelivr.esm","testingcf.jsdelivr.esm","jsdelivr.b-cdn.esm","jspm"],b=["jsdelivr","fastly.jsdelivr","unpkg","gcore.jsdelivr","testingcf.jsdelivr","jsdelivr.b-cdn","npmcdn"],x=["jsdelivr.gh","fastly.jsdelivr.gh","statically","gcore.jsdelivr.gh","testingcf.jsdelivr.gh","jsdelivr.b-cdn.gh"],d={getModuleUrl:(e,{isModule:t=!0,defaultCDN:s="esm.sh"}={})=>{e=e.replace(/#nobundle/g,"");let n=h(e,t,s);return n||(t?"https://esm.sh/"+e:"https://cdn.jsdelivr.net/npm/"+e)},getUrl:(e,t)=>e.startsWith("http")||e.startsWith("data:")?e:h(e,!1,t||f())||e,cdnLists:{npm:b,module:y,gh:x},checkCDNs:async(e,t)=>{let s=[t,...d.cdnLists.npm].filter(Boolean);for(let n of s)try{if((await fetch(d.getUrl(e,n),{method:"HEAD"})).ok)return n}catch{}return d.cdnLists.npm[0]}},f=()=>{if(globalThis.appCDN)return globalThis.appCDN;try{return new URL(location.href).searchParams.get("appCDN")||d.cdnLists.npm[0]}catch{return d.cdnLists.npm[0]}},h=(e,t,s)=>{let n=t&&e.startsWith("unpkg:")?"?module":"";e.startsWith("gh:")?e=e.replace("gh",x[0]):e.includes(":")||(e=(s||(t?y[0]:b[0]))+":"+e);for(let a of A){let[i,r]=a;if(i.test(e))return e.replace(i,r)+n}return null},A=[[/^(esm\.sh:)(.+)/i,"https://esm.sh/$2"],[/^(npm:)(.+)/i,"https://esm.sh/$2"],[/^(node:)(.+)/i,"https://esm.sh/$2"],[/^(jsr:)(.+)/i,"https://esm.sh/jsr/$2"],[/^(skypack:)(.+)/i,"https://cdn.skypack.dev/$2"],[/^(jsdelivr:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2"],[/^(fastly\.jsdelivr:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2"],[/^(gcore\.jsdelivr:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2"],[/^(testingcf\.jsdelivr:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2"],[/^(jsdelivr\.b-cdn:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2"],[/^(jsdelivr\.gh:)(.+)/i,"https://cdn.jsdelivr.net/gh/$2"],[/^(fastly\.jsdelivr\.gh:)(.+)/i,"https://fastly.jsdelivr.net/gh/$2"],[/^(gcore\.jsdelivr\.gh:)(.+)/i,"https://gcore.jsdelivr.net/gh/$2"],[/^(testingcf\.jsdelivr\.gh:)(.+)/i,"https://testingcf.jsdelivr.net/gh/$2"],[/^(jsdelivr\.b-cdn\.gh:)(.+)/i,"https://jsdelivr.b-cdn.net/gh/$2"],[/^(statically:)(.+)/i,"https://cdn.statically.io/gh/$2"],[/^(esm\.run:)(.+)/i,"https://esm.run/$2"],[/^(jsdelivr\.esm:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2/+esm"],[/^(fastly\.jsdelivr\.esm:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2/+esm"],[/^(gcore\.jsdelivr\.esm:)(.+)/i,"https://gcore.jsdelivr.net/npm/$2/+esm"],[/^(testingcf\.jsdelivr\.esm:)(.+)/i,"https://testingcf.jsdelivr.net/npm/$2/+esm"],[/^(jsdelivr\.b-cdn\.esm:)(.+)/i,"https://jsdelivr.b-cdn.net/npm/$2/+esm"],[/^(jspm:)(.+)/i,"https://jspm.dev/$2"],[/^(esbuild:)(.+)/i,"https://esbuild.vercel.app/$2"],[/^(bundle\.run:)(.+)/i,"https://bundle.run/$2"],[/^(unpkg:)(.+)/i,"https://unpkg.com/$2"],[/^(npmcdn:)(.+)/i,"https://npmcdn.com/$2"],[/^(bundlejs:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(bundle:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(deno:)(.+)/i,"https://deno.bundlejs.com/?file&q=https://deno.land/x/$2/mod.ts"],[/^(https:\/\/deno\.land\/.+)/i,"https://deno.bundlejs.com/?file&q=$1"],[/^(github:|https:\/\/github\.com\/)(.[^\/]+?)\/(.[^\/]+?)\/(?!releases\/)(?:(?:blob|raw)\/)?(.+?\/.+)/i,"https://deno.bundlejs.com/?file&q=https://cdn.jsdelivr.net/gh/$2/$3@$4"],[/^(gist\.github:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(gitlab:|https:\/\/gitlab\.com\/)([^\/]+.*\/[^\/]+)\/(?:raw|blob)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://gl.githack.com/$2/raw/$3"],[/^(bitbucket:|https:\/\/bitbucket\.org\/)([^\/]+\/[^\/]+)\/(?:raw|src)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://bb.githack.com/$2/raw/$3"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/]+)\/revisions\/([^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/$3/files/$4"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/HEAD/files/$3"],[/^(bitbucket:)\!api\/2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(api\.bitbucket:)2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(rawgit:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(rawgit:|https:\/\/raw\.githubusercontent\.com)(\/[^\/]+\/[^\/]+|[0-9A-Za-z-]+\/[0-9a-f]+\/raw)\/(.+)/i,"https://deno.bundlejs.com/?file&q=https://raw.githack.com/$2/$3"]];var E=typeof btoa=="function",g=typeof Buffer=="function",M=typeof TextDecoder=="function"?new TextDecoder:void 0,w=typeof TextEncoder=="function"?new TextEncoder:void 0,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=Array.prototype.slice.call(L),O=(e=>{let t={};return e.forEach((s,n)=>t[s]=n),t})(u);var c=String.fromCharCode.bind(String),I=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),$=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_");var T=e=>{let t,s,n,a,i="",r=e.length%3;for(let o=0;o<e.length;){if((s=e.charCodeAt(o++))>255||(n=e.charCodeAt(o++))>255||(a=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=s<<16|n<<8|a,i+=u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[t&63]}return r?i.slice(0,r-3)+"===".substring(r):i},C=E?e=>btoa(e):g?e=>Buffer.from(e,"binary").toString("base64"):T,U=g?e=>Buffer.from(e).toString("base64"):e=>{let s=[];for(let n=0,a=e.length;n<a;n+=4096)s.push(c.apply(null,e.subarray(n,n+4096)));return C(s.join(""))};var S=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?c(192|t>>>6)+c(128|t&63):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|t&63)}},D=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,R=e=>e.replace(D,S),v=g?e=>Buffer.from(e,"utf8").toString("base64"):w?e=>U(w.encode(e)):e=>C(R(e)),j=(e,t=!1)=>t?$(v(e)):v(e);var _=(e,t="text/javascript")=>`data:${t};charset=UTF-8;base64,`+j(e);var k=e=>{try{return new Worker(_(e))}catch{return new Worker(URL.createObjectURL(new Blob([e],{type:"application/javascript"})))}};m();window.initCompiler=async e=>{let t=e.baseUrl,s=t+"compile.worker.0abf569ce9793e6465f503e6ee271775.js",n=new URL(t).origin,a=`self.appCDN='${f()}';importScripts('${s}');`,i=k(a);await new Promise(r=>{let o=document.createElement("script");o.src=t+"compile.page.44687dd0a3412afc6f8e2b5fcea75fdf.js",o.onload=()=>r(),document.head.appendChild(o)}),i.addEventListener("message",async function(r){if(r.data.type==="compileInCompiler"){i.postMessage(r.data);return}r.data.payload&&window.compilers&&window.compilers[r.data.payload.language]&&(r.data.payload.compiled=await window.compilers[r.data.payload.language](r.data.payload.compiled,{config:r.data.payload.config,language:r.data.payload.language,baseUrl:t,options:r.data.payload.options,worker:i})),r.data.trigger==="compileInCompiler"?i.postMessage({...r.data,from:"compiler"}):parent.postMessage({...r.data,from:"compiler"},n)}),window.addEventListener("message",async function(r){r.data.type!=="RELEASE"&&i.postMessage(r.data)}),i.postMessage(e)};})();
